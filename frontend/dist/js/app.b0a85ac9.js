(function(e){function t(t){for(var r,c,s=t[0],a=t[1],u=t[2],d=0,b=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&b.push(o[c][0]),o[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);l&&l(t);while(b.length)b.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var a=n[s];0!==o[a]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=a;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1289:function(e,t,n){},"138c":function(e,t,n){},1967:function(e,t,n){},"227e":function(e,t,n){"use strict";n("443e")},"2bba":function(e,t,n){e.exports=n.p+"img/house2.499a4306.jpeg"},"2cf8":function(e,t,n){"use strict";n("138c")},"32e7":function(e,t,n){},"3e21":function(e,t,n){},"3f27":function(e,t,n){"use strict";n("4183")},"407b":function(e,t,n){},4183:function(e,t,n){},"443e":function(e,t,n){},"4e81":function(e,t,n){"use strict";n("9bcd")},"501f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o={key:0};function i(e,t,n,i,c,s){var a=Object(r["E"])("the-header"),u=Object(r["E"])("router-view"),l=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[Object(r["k"])(a),Object(r["k"])(u),c.isLoading?(Object(r["w"])(),Object(r["h"])("div",o,[Object(r["k"])(l)])):Object(r["g"])("",!0)],64)}var c=n("1da1"),s=(n("96cf"),n("66da")),a=n.n(s),u=function(e){return Object(r["z"])("data-v-48856a45"),e=e(),Object(r["x"])(),e},l={class:"outer-container"},d=u((function(){return Object(r["i"])("span",null,[Object(r["i"])("img",{alt:"Vue logo",src:a.a})],-1)})),b=Object(r["j"])("How It Works"),f=Object(r["j"])("Requests"),j=Object(r["j"])("Consult Online Now"),O=Object(r["j"])("Orders"),p=Object(r["j"])("Portfolio"),m={key:0},h=Object(r["j"])(" Login "),g={key:1,class:"logout dropdown"},v=["src"],k={class:"dropdown-content"},w=u((function(){return Object(r["i"])("a",{href:"/profile",to:"/profile"},"Open Profile",-1)})),y={key:1};function q(e,t,n,o,i,c){var s=Object(r["E"])("router-link"),a=Object(r["E"])("base-button"),u=Object(r["E"])("base-dialog"),q=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[Object(r["i"])("header",null,[Object(r["i"])("nav",null,[Object(r["i"])("div",l,[Object(r["k"])(s,{to:"/"},{default:Object(r["N"])((function(){return[d]})),_:1}),Object(r["k"])(s,{to:"/how-it-works"},{default:Object(r["N"])((function(){return[b]})),_:1}),c.isLoggedIn&&c.isCustomer?(Object(r["w"])(),Object(r["f"])(s,{key:0,to:"/requests"},{default:Object(r["N"])((function(){return[f]})),_:1})):Object(r["g"])("",!0),!c.isLoggedIn||c.isLoggedIn&&c.isCustomer?(Object(r["w"])(),Object(r["f"])(a,{key:1,onClick:c.proceed},{default:Object(r["N"])((function(){return[j]})),_:1},8,["onClick"])):Object(r["g"])("",!0),c.isLoggedIn&&!c.isCustomer?(Object(r["w"])(),Object(r["f"])(s,{key:2,to:"/orders"},{default:Object(r["N"])((function(){return[O]})),_:1})):Object(r["g"])("",!0),c.isLoggedIn&&!c.isCustomer?(Object(r["w"])(),Object(r["f"])(s,{key:3,to:"/portfolio"},{default:Object(r["N"])((function(){return[p]})),_:1})):Object(r["g"])("",!0)]),Object(r["i"])("ul",null,[c.isLoggedIn?(Object(r["w"])(),Object(r["h"])("li",g,[Object(r["i"])("img",{src:c.getProfileImage(),onClick:t[0]||(t[0]=function(){return c.toggleProfileDropdown&&c.toggleProfileDropdown.apply(c,arguments)})},null,8,v),Object(r["i"])("div",k,[w,Object(r["i"])("a",{href:"#",onClick:t[1]||(t[1]=function(){return c.tryToLogout&&c.tryToLogout.apply(c,arguments)})},"Logout")])])):(Object(r["w"])(),Object(r["h"])("li",m,[Object(r["k"])(a,{onClick:c.login},{default:Object(r["N"])((function(){return[h]})),_:1},8,["onClick"])]))])])]),i.showDialog?(Object(r["w"])(),Object(r["f"])(u,{key:0,show:i.showDialog,title:"Do you want to Logout?",onClose:c.tryClose,onYes:c.logout},null,8,["show","onClose","onYes"])):Object(r["g"])("",!0),i.isLoading?(Object(r["w"])(),Object(r["h"])("div",y,[Object(r["k"])(q)])):Object(r["g"])("",!0)],64)}n("ac1f"),n("5319"),n("9911");function R(e,t,n,o,i,c){var s=Object(r["E"])("router-link");return n.link?(Object(r["w"])(),Object(r["f"])(s,{key:1,to:n.to,class:Object(r["r"])(n.mode)},{default:Object(r["N"])((function(){return[Object(r["D"])(e.$slots,"default",{},void 0,!0)]})),_:3},8,["to","class"])):(Object(r["w"])(),Object(r["h"])("button",{key:0,class:Object(r["r"])(n.mode)},[Object(r["D"])(e.$slots,"default",{},void 0,!0)],2))}var x={props:{link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"},mode:{type:String,required:!1,default:null},green:{type:Boolean,required:!1,default:!1},red:{type:Boolean,required:!1,default:!1}}},L=(n("b3ba"),n("6b0d")),_=n.n(L);const I=_()(x,[["render",R],["__scopeId","data-v-3d955685"]]);var N=I,P={components:{BaseButton:N},data:function(){return{isProfileDropdownOpen:!1,options:[{name:"Open Profile",link:"/profile"},{name:"Open Settings",link:"/settings"},{name:"Logout"}],showDialog:!1,isLoading:!1}},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated},isCustomer:function(){return"customer"===this.$store.getters.getRole}},methods:{login:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("login");case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.showDialog=!1,t.next=4,e.$store.dispatch("logout");case 4:e.isLoading=!1,e.$router.replace("/");case 6:case"end":return t.stop()}}),t)})))()},tryToLogout:function(){this.showDialog=!0},getProfileImage:function(){return this.$store.getters.getProfileImage},toggleProfileDropdown:function(){this.isProfileDropdownOpen=!this.isProfileDropdownOpen},tryClose:function(){this.showDialog=!1},proceed:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.getters.isAuthenticated){t.next=4;break}e.$router.push("request-form"),t.next=8;break;case 4:return e.isLoading=!0,t.next=7,e.$store.dispatch("login",{redirectTo:"request-form"});case 7:e.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()}}};n("b293");const C=_()(P,[["render",q],["__scopeId","data-v-48856a45"]]);var V=C,$={name:"App",components:{TheHeader:V},data:function(){return{isLoading:!1}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("tryLogin");case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()}};n("f618");const S=_()($,[["render",i]]);var A=S,E=n("260b"),F=n("5502"),B=n("5530"),T=(n("e9c4"),n("d3b7"),n("a4d3"),n("e01a"),n("ea7b")),U=n("6c02"),D=(n("b0c0"),function(e){return Object(r["z"])("data-v-7a07e60e"),e=e(),Object(r["x"])(),e}),H=D((function(){return Object(r["i"])("label",{for:"name"},"Name",-1)})),J=["tabindex"],z={key:0},M=D((function(){return Object(r["i"])("label",{for:"email"},"Email",-1)})),Y={key:0},G=D((function(){return Object(r["i"])("label",{for:"phone"},"Phone",-1)})),K={key:0},W={key:0},Z=Object(r["j"])("Edit"),Q=Object(r["j"])("Submit"),X={key:0};function ee(e,t,n,o,i,c){var s=Object(r["E"])("base-button"),a=Object(r["E"])("base-card"),u=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[Object(r["k"])(a,null,{default:Object(r["N"])((function(){return[Object(r["i"])("form",{onSubmit:t[6]||(t[6]=Object(r["P"])((function(){return c.submitForm&&c.submitForm.apply(c,arguments)}),["prevent"]))},[Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!i.name.isValid}])},[H,Object(r["O"])(Object(r["i"])("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.name.val=e}),onBlur:t[1]||(t[1]=function(e){return c.clearValidity("name")}),class:Object(r["r"])({disabled:!i.isEditMode}),tabindex:i.isEditMode?0:-1},null,42,J),[[r["L"],i.name.val,void 0,{trim:!0}]]),i.name.isValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",z,"Name must not be empty"))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!i.email.isValid}])},[M,Object(r["O"])(Object(r["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.email.val=e}),onBlur:t[3]||(t[3]=function(e){return c.clearValidity("email")}),disabled:""},null,544),[[r["L"],i.email.val,void 0,{trim:!0}]]),i.email.isValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",Y,"Email must be valid"))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!i.phone.isValid}])},[G,Object(r["O"])(Object(r["i"])("input",{type:"number",id:"phone","onUpdate:modelValue":t[4]||(t[4]=function(e){return i.phone.val=e}),onBlur:t[5]||(t[5]=function(e){return c.clearValidity("phone")}),class:Object(r["r"])({disabled:!i.isEditMode})},null,34),[[r["L"],i.phone.val,void 0,{trim:!0}]]),i.phone.isValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",K,"Phone must be valid"))],2),i.formIsValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",W,"Please fix the above errors and submit again.")),i.isEditMode?(Object(r["w"])(),Object(r["f"])(s,{key:2},{default:Object(r["N"])((function(){return[Q]})),_:1})):(Object(r["w"])(),Object(r["f"])(s,{key:1,onClick:c.editForm},{default:Object(r["N"])((function(){return[Z]})),_:1},8,["onClick"]))],32)]})),_:1}),i.isLoading?(Object(r["w"])(),Object(r["h"])("div",X,[Object(r["k"])(u)])):Object(r["g"])("",!0)],64)}var te={emits:["save-data"],data:function(){return{name:{val:this.$store.getters.getName,isValid:!0},email:{val:this.$store.getters.getEmail,isValid:!0},phone:{val:this.$store.getters.getPhone,isValid:!0},formIsValid:!0,isEditMode:!1,isLoading:!1}},methods:{clearValidity:function(e){this[e].isValid=!0},validateForm:function(){this.formIsValid=!0,""===this.name.val?(this.name.isValid=!1,this.formIsValid=!1):""!==this.email.val&&this.email.val.indexOf("@")?(""===this.phone.val||this.phone.val&&10!==this.phone.val.length)&&(this.phone.isValid=!1,this.formIsValid=!1):(this.email.isValid=!1,this.formIsValid=!1)},submitForm:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoading=!0,e.validateForm(),e.formIsValid){t.next=4;break}return t.abrupt("return");case 4:n={displayName:e.name.val,email:e.email.val,phoneNumber:e.phone.val},e.$store.dispatch("updateProfile",{request:n}),e.isEditMode=!1,e.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},editForm:function(){this.isEditMode=!0}},watch:{"$store.getters.getName":function(){this.name.val=this.$store.getters.getName},"$store.getters.getEmail":function(){this.email.val=this.$store.getters.getEmail},"$store.getters.getPhone":function(){this.phone.val=this.$store.getters.getPhone}}};n("cc35");const ne=_()(te,[["render",ee],["__scopeId","data-v-7a07e60e"]]);var re=ne,oe=function(e){return Object(r["z"])("data-v-2ba63415"),e=e(),Object(r["x"])(),e},ie={class:"request"},ce=Object(r["j"])("New Request"),se={class:"base-card-container"},ae={class:"left-container"},ue={class:"date"},le={class:"container"},de=oe((function(){return Object(r["i"])("b",null,"Architect Name:",-1)})),be={class:"container"},fe=oe((function(){return Object(r["i"])("b",null,"Total Square Feet:",-1)})),je={class:"container"},Oe=oe((function(){return Object(r["i"])("b",null,"Bedrooms:",-1)})),pe={class:"container"},me=oe((function(){return Object(r["i"])("b",null,"Bathrooms:",-1)})),he={key:0,class:"container"},ge=oe((function(){return Object(r["i"])("b",null,"Description:",-1)})),ve={class:"right-container"},ke=oe((function(){return Object(r["i"])("b",null,"Status:",-1)})),we={key:0,class:"container",style:{display:"flex","justify-content":"center"}},ye=["src"],qe={key:0};function Re(e,t,n,o,i,c){var s=Object(r["E"])("base-button"),a=Object(r["E"])("base-card"),u=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[Object(r["i"])("div",ie,[Object(r["k"])(s,{onClick:c.onNewRequest},{default:Object(r["N"])((function(){return[ce]})),_:1},8,["onClick"])]),(Object(r["w"])(!0),Object(r["h"])(r["a"],null,Object(r["C"])(c.requests,(function(e){return Object(r["w"])(),Object(r["f"])(a,{key:e},{default:Object(r["N"])((function(){return[Object(r["i"])("div",se,[Object(r["i"])("div",ae,[Object(r["i"])("div",ue,Object(r["H"])(e.date),1),Object(r["i"])("div",le,[de,Object(r["j"])(" "+Object(r["H"])(e.architectName),1)]),Object(r["i"])("div",be,[fe,Object(r["j"])(" "+Object(r["H"])(e.total_sq_ft),1)]),Object(r["i"])("div",je,[Oe,Object(r["j"])(" "+Object(r["H"])(e.bedrooms),1)]),Object(r["i"])("div",pe,[me,Object(r["j"])(" "+Object(r["H"])(e.bathrooms),1)]),e.description&&e.description.length?(Object(r["w"])(),Object(r["h"])("div",he,[ge,Object(r["j"])(" "+Object(r["H"])(e.description),1)])):Object(r["g"])("",!0)]),Object(r["i"])("div",ve,[ke,Object(r["j"])(" "+Object(r["H"])(e.status),1)])]),e.image?(Object(r["w"])(),Object(r["h"])("div",we,[Object(r["i"])("img",{src:e.image,style:{"max-width":"100%"}},null,8,ye)])):Object(r["g"])("",!0)]})),_:2},1024)})),128)),i.isLoading?(Object(r["w"])(),Object(r["h"])("div",qe,[Object(r["k"])(u)])):Object(r["g"])("",!0)],64)}var xe={emits:["save-data"],data:function(){return{name:{val:this.$store.getters.getName,isValid:!0},email:{val:this.$store.getters.getEmail,isValid:!0},phone:{val:this.$store.getters.getPhone,isValid:!0},formIsValid:!0,isLoading:!1}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("getAllRequests");case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},computed:{requests:function(){return this.$store.getters.getRequests}},methods:{onNewRequest:function(){this.$router.replace("/request-form")}}};n("888e");const Le=_()(xe,[["render",Re],["__scopeId","data-v-2ba63415"]]);var _e=Le,Ie=function(e){return Object(r["z"])("data-v-54f56401"),e=e(),Object(r["x"])(),e},Ne=Ie((function(){return Object(r["i"])("div",{class:"title"},"Please fill out below details to raise a design request",-1)})),Pe=Ie((function(){return Object(r["i"])("label",{for:"total"},"Total Square Feet Area",-1)})),Ce={key:0},Ve=Ie((function(){return Object(r["i"])("label",{for:"floors"},"Required Number Of Floors",-1)})),$e={key:0},Se=Ie((function(){return Object(r["i"])("label",{for:"bedrooms"},"Required Bedrooms",-1)})),Ae={key:0},Ee=Ie((function(){return Object(r["i"])("label",{for:"bathrooms"},"Required Bathrooms",-1)})),Fe={key:0},Be=Ie((function(){return Object(r["i"])("label",{for:"description"},"Description",-1)})),Te={key:0},Ue={class:"form-control"},De={key:0},He=Object(r["j"])("Next"),Je={key:1,class:"architect-container"},ze=Ie((function(){return Object(r["i"])("h2",null,"Please select an Architect",-1)})),Me={class:"base-card-container"},Ye={class:"left-container"},Ge={style:{"font-weight":"bold"}},Ke={key:0},We=Ie((function(){return Object(r["i"])("div",{class:"right-container"},[Object(r["i"])("div",null,"Rating: 5/5")],-1)})),Ze={key:0,class:"container"},Qe=["src"],Xe=Object(r["j"])("Confirm"),et={key:2};function tt(e,t,n,o,i,c){var s=Object(r["E"])("base-button"),a=Object(r["E"])("base-card"),u=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[i.formSubmitted?(Object(r["w"])(),Object(r["h"])("div",Je,[ze,(Object(r["w"])(!0),Object(r["h"])(r["a"],null,Object(r["C"])(c.architects,(function(e){return Object(r["w"])(),Object(r["f"])(a,{key:e,onClick:function(t){return c.selectArchitect(e.uid)},class:Object(r["r"])({selected:i.selectedArchitect===e.uid})},{default:Object(r["N"])((function(){return[Object(r["i"])("div",Me,[Object(r["i"])("div",Ye,[Object(r["i"])("div",Ge,Object(r["H"])(e.displayName),1),e.portfolio&&e.portfolio.description?(Object(r["w"])(),Object(r["h"])("div",Ke,Object(r["H"])(e.portfolio.description),1)):Object(r["g"])("",!0)]),We]),e.portfolio&&e.portfolio.image?(Object(r["w"])(),Object(r["h"])("div",Ze,[Object(r["i"])("img",{src:e.portfolio.image,style:{"max-width":"100%"}},null,8,Qe)])):Object(r["g"])("",!0)]})),_:2},1032,["onClick","class"])})),128)),Object(r["k"])(s,{onClick:c.confirm},{default:Object(r["N"])((function(){return[Xe]})),_:1},8,["onClick"])])):(Object(r["w"])(),Object(r["f"])(a,{key:0},{default:Object(r["N"])((function(){return[Ne,Object(r["i"])("form",{onSubmit:t[11]||(t[11]=Object(r["P"])((function(){return c.submitForm&&c.submitForm.apply(c,arguments)}),["prevent"]))},[Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!i.total_sq_ft.isValid}])},[Pe,Object(r["O"])(Object(r["i"])("input",{type:"number",id:"total","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.total_sq_ft.val=e}),onBlur:t[1]||(t[1]=function(e){return c.clearValidity("total_sq_ft")})},null,544),[[r["L"],i.total_sq_ft.val,void 0,{trim:!0}]]),i.total_sq_ft.isValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",Ce,"Total must be greater than zero."))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!i.floors.isValid}])},[Ve,Object(r["O"])(Object(r["i"])("input",{type:"number",id:"floors","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.floors.val=e}),onBlur:t[3]||(t[3]=function(e){return c.clearValidity("floors")})},null,544),[[r["L"],i.floors.val,void 0,{trim:!0}]]),i.floors.isValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",$e,"Floors must be greater than zero."))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!i.bedrooms.isValid}])},[Se,Object(r["O"])(Object(r["i"])("input",{type:"number",id:"bedrooms","onUpdate:modelValue":t[4]||(t[4]=function(e){return i.bedrooms.val=e}),onBlur:t[5]||(t[5]=function(e){return c.clearValidity("bedrooms")})},null,544),[[r["L"],i.bedrooms.val,void 0,{trim:!0}]]),i.bedrooms.isValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",Ae,"Bedrooms count must be valid."))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!i.bathrooms.isValid}])},[Ee,Object(r["O"])(Object(r["i"])("input",{type:"number",id:"bathrooms","onUpdate:modelValue":t[6]||(t[6]=function(e){return i.bathrooms.val=e}),onBlur:t[7]||(t[7]=function(e){return c.clearValidity("bathrooms")})},null,544),[[r["L"],i.bathrooms.val,void 0,{trim:!0}]]),i.bathrooms.isValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",Fe,"Bathrooms count must be valid."))],2),Object(r["i"])("div",{class:Object(r["r"])(["form-control",{invalid:!i.description.isValid}])},[Be,Object(r["O"])(Object(r["i"])("input",{type:"text",id:"description","onUpdate:modelValue":t[8]||(t[8]=function(e){return i.description.val=e}),onBlur:t[9]||(t[9]=function(e){return c.clearValidity("description")})},null,544),[[r["L"],i.description.val,void 0,{trim:!0}]]),i.description.isValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",Te,"Description must be valid."))],2),Object(r["i"])("div",Ue,[Object(r["i"])("input",{ref:"file",accept:"image/*",onChange:t[10]||(t[10]=function(e){return c.handleFileUpload(e)}),type:"file"},null,544)]),i.formIsValid?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("p",De,"Please fix the above errors and submit again.")),Object(r["k"])(s,null,{default:Object(r["N"])((function(){return[He]})),_:1})],32)]})),_:1})),i.isLoading?(Object(r["w"])(),Object(r["h"])("div",et,[Object(r["k"])(u)])):Object(r["g"])("",!0)],64)}n("7db0");var nt={emits:["save-data"],data:function(){return{total_sq_ft:{val:"",isValid:!0},floors:{val:"",isValid:!0},bedrooms:{val:"",isValid:!0},bathrooms:{val:"",isValid:!0},description:{val:"",isValid:!0},image:{val:"",isValid:!0},formIsValid:!0,file:null,formSubmitted:!1,selectedArchitect:null,isLoading:!1}},computed:{architects:function(){return this.$store.getters.getArchitects}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("getAllArchitects");case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},methods:{handleFileUpload:function(e){this.getBase64(e.target.files[0])},getBase64:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.isLoading=!0,r=new FileReader,r.readAsDataURL(e),r.onload=function(){t.image.val=r.result,t.isLoading=!1};case 4:case"end":return n.stop()}}),n)})))()},clearValidity:function(e){this[e].isValid=!0},validateForm:function(){this.formIsValid=!0,this.total_sq_ft.val<=0?(this.total_sq_ft.isValid=!1,this.formIsValid=!1):this.floors<=0?(this.floors.isValid=!1,this.formIsValid=!1):this.bedrooms.val<=0?(this.bedrooms.isValid=!1,this.formIsValid=!1):this.bathrooms.val<=0?(this.bathrooms.isValid=!1,this.formIsValid=!1):""===this.description&&(this.description.isValid=!1,this.formIsValid=!1)},submitForm:function(){this.formSubmitted=!1,this.validateForm(),this.formIsValid&&(this.formSubmitted=!0)},selectArchitect:function(e){e&&(this.selectedArchitect=e)},confirm:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isLoading=!0,e.selectedArchitect&&(n=e.$store.getters.getArchitects.find((function(t){return t.uid===e.selectedArchitect})),r={date:(new Date).toDateString(),total_sq_ft:e.total_sq_ft.val,floors:e.floors.val,bedrooms:e.bedrooms.val,bathrooms:e.bathrooms.val,description:e.description.val,status:"Pending",id:JSON.parse(localStorage.getItem("user")).uid,toId:e.selectedArchitect,customerName:e.$store.getters.getName,customerPhoneNumber:e.$store.getters.getPhone,architectName:n.displayName,image:e.image.val},e.$store.dispatch("addRequest",{request:r}),e.isLoading=!1);case 2:case"end":return t.stop()}}),t)})))()}}};n("5f1f");const rt=_()(nt,[["render",tt],["__scopeId","data-v-54f56401"]]);var ot=rt,it=n("2bba"),ct=n.n(it),st=function(e){return Object(r["z"])("data-v-aa43bd2e"),e=e(),Object(r["x"])(),e},at=st((function(){return Object(r["i"])("img",{alt:"Vue logo",src:ct.a},null,-1)})),ut=st((function(){return Object(r["i"])("h1",{class:"main-title"},"Get your dream home designed",-1)})),lt={class:"book-button"},dt=Object(r["j"])("BOOK DESIGN CONSULTATION"),bt={key:0};function ft(e,t,n,o,i,c){var s=Object(r["E"])("base-button"),a=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[at,ut,Object(r["i"])("div",lt,[Object(r["k"])(s,{onClick:c.proceed},{default:Object(r["N"])((function(){return[dt]})),_:1},8,["onClick"])]),i.isLoading?(Object(r["w"])(),Object(r["h"])("div",bt,[Object(r["k"])(a)])):Object(r["g"])("",!0)],64)}var jt={data:function(){return{isLoading:!1}},methods:{proceed:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.getters.isAuthenticated){t.next=4;break}e.$router.push("request-form"),t.next=8;break;case 4:return e.isLoading=!0,t.next=7,e.$store.dispatch("login",{redirectTo:"request-form"});case 7:e.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()}}};n("2cf8");const Ot=_()(jt,[["render",ft],["__scopeId","data-v-aa43bd2e"]]);var pt=Ot,mt=function(e){return Object(r["z"])("data-v-16de81d9"),e=e(),Object(r["x"])(),e},ht=mt((function(){return Object(r["i"])("h2",{class:"heading"},"Logging in as a",-1)})),gt={class:"options"},vt=Object(r["j"])("Customer"),kt=Object(r["j"])("Architect"),wt={key:0};function yt(e,t,n,o,i,c){var s=Object(r["E"])("base-button"),a=Object(r["E"])("base-card"),u=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[Object(r["k"])(a,{class:"container"},{default:Object(r["N"])((function(){return[ht,Object(r["i"])("div",gt,[Object(r["k"])(s,{class:"option",onClick:t[0]||(t[0]=function(e){return c.selectOption("customer")})},{default:Object(r["N"])((function(){return[vt]})),_:1}),Object(r["k"])(s,{class:"option",onClick:t[1]||(t[1]=function(e){return c.selectOption("architect")})},{default:Object(r["N"])((function(){return[kt]})),_:1})])]})),_:1}),i.isLoading?(Object(r["w"])(),Object(r["h"])("div",wt,[Object(r["k"])(u)])):Object(r["g"])("",!0)],64)}n("c7cd");var qt={components:{BaseButton:N},props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1}},emits:["close"],methods:{tryYes:function(){this.$emit("yes")},tryClose:function(){this.fixed||this.$emit("close")},selectOption:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,t.$store.dispatch("setRole",{role:e});case 3:t.isLoading=!1,t.$router.push("/profile");case 5:case"end":return n.stop()}}),n)})))()}}};n("ef42");const Rt=_()(qt,[["render",yt],["__scopeId","data-v-16de81d9"]]);var xt=Rt,Lt={class:"overallContainer"},_t={key:0},It={key:1,class:"orders-page-initial-text"},Nt=Object(r["i"])("div",null,"Welcome to the orders page! Please select type of orders from side panel.",-1),Pt=[Nt],Ct={key:0};function Vt(e,t,n,o,i,c){var s=Object(r["E"])("sidebar-menu"),a=Object(r["E"])("orders-list"),u=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[Object(r["i"])("div",Lt,[Object(r["k"])(s,{class:"sidebar",menu:i.menu,hideToggle:!0,collapsed:i.collapsed,onItemClick:c.onItemClick,onCollapse:c.onCollapse},null,8,["menu","collapsed","onItemClick","onCollapse"]),i.selectedOption||0===i.selectedOption?(Object(r["w"])(),Object(r["h"])("div",_t,[Object(r["k"])(a,{"order-type":c.getOrderType},null,8,["order-type"])])):(Object(r["w"])(),Object(r["h"])("div",It,Pt))]),i.isLoading?(Object(r["w"])(),Object(r["h"])("div",Ct,[Object(r["k"])(u)])):Object(r["g"])("",!0)],64)}var $t=function(e){return Object(r["z"])("data-v-2f0ac757"),e=e(),Object(r["x"])(),e},St={key:0,class:"title"},At={key:1,class:"title"},Et={key:2,class:"title"},Ft={class:"orders-container"},Bt={class:"base-card-container"},Tt={class:"left-container"},Ut={class:"date"},Dt={class:"container"},Ht=$t((function(){return Object(r["i"])("b",null,"Customer Name:",-1)})),Jt={key:0,class:"container"},zt=$t((function(){return Object(r["i"])("b",null,"Customer Contact Number:",-1)})),Mt={class:"container"},Yt=$t((function(){return Object(r["i"])("b",null,"Total Square Feet:",-1)})),Gt={class:"container"},Kt=$t((function(){return Object(r["i"])("b",null,"Bedrooms:",-1)})),Wt={class:"container"},Zt=$t((function(){return Object(r["i"])("b",null,"Bathrooms:",-1)})),Qt={key:1,class:"container"},Xt=$t((function(){return Object(r["i"])("b",null,"Description:",-1)})),en={class:"right-container"},tn=$t((function(){return Object(r["i"])("b",null,"Status:",-1)})),nn={key:0,class:"container image-container"},rn=["src"],on={key:1,class:"container",style:{"text-align":"center"}},cn=Object(r["j"])("Complete"),sn={key:2,class:"container",style:{"text-align":"center"}},an=Object(r["j"])("Accept"),un=Object(r["j"])("Reject"),ln={key:0,class:"make-center"},dn={key:3};function bn(e,t,n,o,i,c){var s=Object(r["E"])("base-button"),a=Object(r["E"])("base-card"),u=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,["getOngoingRequestsForUser"===n.orderType?(Object(r["w"])(),Object(r["h"])("div",St,"Ongoing Projects -")):"getPendingRequestsForUser"===n.orderType?(Object(r["w"])(),Object(r["h"])("div",At,"Project Requests -")):"getPastRequestsForUser"===n.orderType?(Object(r["w"])(),Object(r["h"])("div",Et,"Past Projects -")):Object(r["g"])("",!0),Object(r["i"])("div",Ft,[(Object(r["w"])(!0),Object(r["h"])(r["a"],null,Object(r["C"])(c.getRequests,(function(e){return Object(r["w"])(),Object(r["f"])(a,{key:e},{default:Object(r["N"])((function(){return[Object(r["i"])("div",Bt,[Object(r["i"])("div",Tt,[Object(r["i"])("div",Ut,Object(r["H"])(e.date),1),Object(r["i"])("div",Dt,[Ht,Object(r["j"])(" "+Object(r["H"])(e.customerName),1)]),e.customerPhoneNumber?(Object(r["w"])(),Object(r["h"])("div",Jt,[zt,Object(r["j"])(" "+Object(r["H"])(e.customerPhoneNumber),1)])):Object(r["g"])("",!0),Object(r["i"])("div",Mt,[Yt,Object(r["j"])(" "+Object(r["H"])(e.total_sq_ft),1)]),Object(r["i"])("div",Gt,[Kt,Object(r["j"])(" "+Object(r["H"])(e.bedrooms),1)]),Object(r["i"])("div",Wt,[Zt,Object(r["j"])(" "+Object(r["H"])(e.bathrooms),1)]),e.description&&e.description.length?(Object(r["w"])(),Object(r["h"])("div",Qt,[Xt,Object(r["j"])(" "+Object(r["H"])(e.description),1)])):Object(r["g"])("",!0)]),Object(r["i"])("div",en,[tn,Object(r["j"])(" "+Object(r["H"])(e.status),1)])]),e.image?(Object(r["w"])(),Object(r["h"])("div",nn,[Object(r["i"])("img",{src:e.image,style:{"max-width":"100%"}},null,8,rn)])):Object(r["g"])("",!0),"getOngoingRequestsForUser"===n.orderType?(Object(r["w"])(),Object(r["h"])("div",on,[Object(r["k"])(s,{onClick:function(t){return c.respond("Completed",e.reqId)},mode:"green"},{default:Object(r["N"])((function(){return[cn]})),_:2},1032,["onClick"])])):"getPendingRequestsForUser"===n.orderType?(Object(r["w"])(),Object(r["h"])("div",sn,[Object(r["k"])(s,{onClick:function(t){return c.respond("Ongoing",e.reqId)},mode:"green"},{default:Object(r["N"])((function(){return[an]})),_:2},1032,["onClick"]),Object(r["k"])(s,{onClick:function(t){return c.respond("Rejected",e.reqId)},mode:"red"},{default:Object(r["N"])((function(){return[un]})),_:2},1032,["onClick"])])):Object(r["g"])("",!0)]})),_:2},1024)})),128)),c.getRequests&&c.getRequests.length?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("div",ln," No Projects Found "))]),i.isLoading?(Object(r["w"])(),Object(r["h"])("div",dn,[Object(r["k"])(u)])):Object(r["g"])("",!0)],64)}var fn={emits:["save-data"],props:["orderType"],data:function(){return{name:{val:this.$store.getters.getName,isValid:!0},email:{val:this.$store.getters.getEmail,isValid:!0},phone:{val:this.$store.getters.getPhone,isValid:!0},formIsValid:!0,isLoading:!1}},computed:{getRequests:function(){return this.$store.getters[this.orderType]}},methods:{respond:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.isLoading=!0,r.next=3,n.$store.dispatch("updateStatus",{id:t,status:e});case 3:n.isLoading=!1;case 4:case"end":return r.stop()}}),r)})))()}}};n("e5ec");const jn=_()(fn,[["render",bn],["__scopeId","data-v-2f0ac757"]]);var On=jn,pn={name:"App",components:{OrdersList:On},data:function(){return{menu:[{title:"Ongoing Projects"},{title:"Project Requests"},{title:"Past Projects"}],collapsed:!1,selectedOption:null,isLoading:!1}},methods:{onItemClick:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.selectedOption=t.id,n.isLoading=!0,e.next=4,n.$store.dispatch("getArchitectRequests");case 4:n.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()},onCollapse:function(e){this.collapsed=e}},computed:{getOrderType:function(){return 0===this.selectedOption?"getOngoingRequestsForUser":1===this.selectedOption?"getPendingRequestsForUser":2===this.selectedOption?"getPastRequestsForUser":"getRequestsForUser"}}};n("bb0b");const mn=_()(pn,[["render",Vt]]);var hn=mn,gn=n("e345"),vn=n.n(gn),kn=function(e){return Object(r["z"])("data-v-646006df"),e=e(),Object(r["x"])(),e},wn=kn((function(){return Object(r["i"])("img",{alt:"Vue logo",src:vn.a},null,-1)})),yn={key:0},qn=kn((function(){return Object(r["i"])("h1",{class:"main-title"},"Your dream home in 5 steps!",-1)})),Rn={class:"book-button"},xn=kn((function(){return Object(r["i"])("h3",null,"Looking to design your home floor plan? Here's how you can get started",-1)})),Ln=kn((function(){return Object(r["i"])("div",{class:"listContainer"},[Object(r["i"])("ul",null,[Object(r["i"])("li",null,"Raise a request with requirements"),Object(r["i"])("li",null,"Choose a suitable Architect"),Object(r["i"])("li",null,"Free consultation with Architect"),Object(r["i"])("li",null,"Pay the booking amount"),Object(r["i"])("li",null,"Get the final design")])],-1)})),_n={key:0},In={key:1},Nn=kn((function(){return Object(r["i"])("h2",{class:"main-title"},"Looking to generate more leads and deliver stunning houses. Join us and let us make people happy",-1)})),Pn={class:"book-button"},Cn=kn((function(){return Object(r["i"])("div",{class:"listContainer"},[Object(r["i"])("ul",null,[Object(r["i"])("li",null,"Join with us as an Architect"),Object(r["i"])("li",null,"Update your portfolio to highlight your best work"),Object(r["i"])("li",null,"Get project requests from customer"),Object(r["i"])("li",null,"Create design based on project requirements"),Object(r["i"])("li",null,"Submit the design")])],-1)})),Vn={key:0};function $n(e,t,n,o,i,c){var s=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[wn,!c.isLoggedIn||c.isLoggedIn&&c.isCustomer?(Object(r["w"])(),Object(r["h"])("div",yn,[qn,Object(r["i"])("div",Rn,[xn,Ln,i.isLoading?(Object(r["w"])(),Object(r["h"])("div",_n,[Object(r["k"])(s)])):Object(r["g"])("",!0)])])):(Object(r["w"])(),Object(r["h"])("div",In,[Nn,Object(r["i"])("div",Pn,[Cn,i.isLoading?(Object(r["w"])(),Object(r["h"])("div",Vn,[Object(r["k"])(s)])):Object(r["g"])("",!0)])]))],64)}var Sn={data:function(){return{isLoading:!1}},methods:{proceed:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.getters.isAuthenticated){t.next=4;break}e.$router.push("request-form"),t.next=8;break;case 4:return e.isLoading=!0,t.next=7,e.$store.dispatch("login",{redirectTo:"request-form"});case 7:e.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()}},computed:{isCustomer:function(){return"customer"===this.$store.getters.getRole},isLoggedIn:function(){return this.$store.getters.isAuthenticated}}};n("3f27");const An=_()(Sn,[["render",$n],["__scopeId","data-v-646006df"]]);var En=An,Fn=function(e){return Object(r["z"])("data-v-1d0ea7ab"),e=e(),Object(r["x"])(),e},Bn={class:"form-control"},Tn=["src"],Un={class:"form-control"},Dn=Fn((function(){return Object(r["i"])("label",{for:"description"},"Description",-1)})),Hn=Object(r["j"])("Save"),Jn={key:0};function zn(e,t,n,o,i,c){var s=Object(r["E"])("base-button"),a=Object(r["E"])("base-card"),u=Object(r["E"])("base-spinner");return Object(r["w"])(),Object(r["h"])(r["a"],null,[Object(r["k"])(a,null,{default:Object(r["N"])((function(){return[Object(r["i"])("form",{onSubmit:t[2]||(t[2]=Object(r["P"])((function(){return c.submitForm&&c.submitForm.apply(c,arguments)}),["prevent"]))},[Object(r["i"])("div",Bn,[Object(r["i"])("img",{src:c.getImage,alt:"",style:{"max-width":"100%"}},null,8,Tn),Object(r["i"])("input",{ref:"file",onChange:t[0]||(t[0]=function(e){return c.handleFileUpload(e)}),type:"file"},null,544)]),Object(r["i"])("div",Un,[Dn,Object(r["O"])(Object(r["i"])("input",{type:"text",id:"description","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.description.val=e})},null,512),[[r["L"],i.description.val,void 0,{trim:!0}]])]),Object(r["k"])(s,null,{default:Object(r["N"])((function(){return[Hn]})),_:1})],32)]})),_:1}),i.isLoading?(Object(r["w"])(),Object(r["h"])("div",Jn,[Object(r["k"])(u)])):Object(r["g"])("",!0)],64)}var Mn={data:function(){return{description:{val:this.$store.getters.getPortfolio&&this.$store.getters.getPortfolio.description},image:{val:null},isLoading:!1}},methods:{submitForm:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,n={description:e.description.val,image:e.getImage},t.next=4,e.$store.dispatch("updatePortfolio",{portfolio:n});case 4:e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},handleFileUpload:function(e){this.getBase64(e.target.files[0])},getBase64:function(e){var t=this;this.isLoading=!0;var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t.image.val=n.result,t.isLoading=!1}}},computed:{getImage:function(){return this.image.val?this.image.val:this.$store.getters.getPortfolio?this.$store.getters.getPortfolio.image:null}},watch:{"$store.getters.getPortfolio.description":function(){this.description.val=this.$store.getters.getPortfolio.description}}};n("227e");const Yn=_()(Mn,[["render",zn],["__scopeId","data-v-1d0ea7ab"]]);var Gn=Yn,Kn=Object(U["a"])({routes:[{path:"/",component:pt},{path:"/profile",component:re,meta:{requiresAuth:!0}},{path:"/role",component:xt,meta:{requiresAuth:!0}},{path:"/requests",component:_e,meta:{requiresAuth:!0}},{path:"/request-form",component:ot,meta:{requiresAuth:!0}},{path:"/orders",component:hn,meta:{requiresAuth:!0}},{path:"/how-it-works",component:En},{path:"/portfolio",component:Gn,meta:{requiresAuth:!0}}],history:Object(U["b"])()});Kn.beforeEach((function(e,t,n){e.meta.requiresAuth&&!nr.getters.isAuthenticated?n("/"):n()}));var Wn,Zn=Kn,Qn={state:function(){return{user:null,token:null,didAutoLogout:!1,role:null,portfolio:null}},getters:{user:function(e){return e.user},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},getProfileImage:function(e){return e.user.photoURL},getName:function(e){return e.user.displayName},getEmail:function(e){return e.user.email},getPhone:function(e){return e.user.phoneNumber},getRole:function(e){return e.role},getPortfolio:function(e){return e.portfolio}},actions:{login:function(e,t){var n=new T["a"],r=Object(T["b"])();Object(T["c"])(r,n).then(function(){var n=Object(c["a"])(regeneratorRuntime.mark((function n(r){var o,i,c,s,a,u,l,d,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=T["a"].credentialFromResult(r),i=o.accessToken,c=1e3*+r._tokenResponse.expiresIn,s=(new Date).getTime()+c,a=JSON.stringify(r.user),localStorage.setItem("token",i),localStorage.setItem("user",a),localStorage.setItem("tokenExpiration",s),Wn=setTimeout((function(){e.dispatch("autoLogout")}),c),u=Object(B["a"])({},r.user),n.next=12,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/users/".concat(r.user.uid,".json"));case 12:return l=n.sent,n.next=15,l.json();case 15:if(d=n.sent,d&&d.role&&(b=d.role),!b&&t&&t.redirectTo&&(b="customer"),d){n.next=21;break}return n.next=21,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/users/".concat(r.user.uid,".json"),{method:"PATCH",body:JSON.stringify(u)});case 21:d&&d.portfolio&&d.portfolio.description&&e.commit("updatePortfolio",{portfolio:d.portfolio}),e.commit("setUser",{token:i,user:r.user}),t&&t.redirectTo&&"architect"!==b?Zn.push(t.redirectTo):b?(localStorage.setItem("role",b),e.dispatch("setRole",{role:b})):Zn.push("/role");case 24:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){console.log("error: ",e)}))},logout:function(e){var t=new T["a"],n=Object(T["b"])();Object(T["d"])(n,t).then((function(){e.commit("setUser",{token:null,user:null});var t=[];e.commit("setRequests",t),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("tokenExpiration"),localStorage.removeItem("role"),clearTimeout(Wn)})).catch((function(e){console.log("error: ",e)}))},tryLogin:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i,c,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user")),o=localStorage.getItem("tokenExpiration"),i=localStorage.getItem("role"),c=o-(new Date).getTime(),!(c<1e4)){t.next=7;break}return t.abrupt("return");case 7:return Wn=setTimeout((function(){e.dispatch("autoLogout")}),c),n&&r&&e.commit("setUser",{token:n,user:r}),t.next=11,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/users/".concat(r.uid,".json"));case 11:return s=t.sent,t.next=14,s.json();case 14:a=t.sent,a&&e.commit("updateProfile",{displayName:a.displayName,email:a.email,phoneNumber:a.phoneNumber}),a&&a.portfolio&&(a.portfolio.description||a.portfolio.image)&&e.commit("updatePortfolio",{portfolio:a.portfolio}),i&&e.commit("setRole",{role:i});case 18:case"end":return t.stop()}}),t)})))()},autoLogout:function(e){e.dispatch("logout"),e.commit("setAutoLogout")},setRole:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return localStorage.setItem("role",t.role),e.commit("setRole",t),r={role:t.role},n.next=5,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/users/".concat(e.getters.user.uid,".json"),{method:"PATCH",body:JSON.stringify(r)});case 5:case"end":return n.stop()}}),n)})))()},updatePortfolio:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(B["a"])({},t),n.next=3,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/users/".concat(e.getters.user.uid,".json"),{method:"PATCH",body:JSON.stringify(r)});case 3:e.commit("updatePortfolio",r);case 4:case"end":return n.stop()}}),n)})))()},updateProfile:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(B["a"])({},t.request),n.next=3,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/users/".concat(e.getters.user.uid,".json"),{method:"PATCH",body:JSON.stringify(r)});case 3:e.commit("updateProfile",r);case 4:case"end":return n.stop()}}),n)})))()}},mutations:{setRole:function(e,t){e.role=t.role},setUser:function(e,t){e.token=t.token,e.user=t.user,e.didAutoLogout=!1},setAutoLogout:function(e){e.didAutoLogout=!0},updatePortfolio:function(e,t){e.portfolio=t.portfolio},updateProfile:function(e,t){e.user.displayName=t.displayName,e.user.email=t.email,e.user.phoneNumber=t.phoneNumber}}},Xn=(n("4de4"),n("159b"),{state:function(){return{requests:[]}},getters:{getRequests:function(e){return e.requests},getRequestsForUser:function(e){var t=JSON.parse(localStorage.getItem("user")).uid;return e.requests.filter((function(e){return e.id===t||e.toId===t}))},getOngoingRequestsForUser:function(e,t){return t.getRequestsForUser.filter((function(e){return"Ongoing"===e.status}))},getPendingRequestsForUser:function(e,t){return t.getRequestsForUser.filter((function(e){return"Pending"===e.status}))},getPastRequestsForUser:function(e,t){return t.getRequestsForUser.filter((function(e){return"Completed"===e.status||"Rejected"===e.status}))}},actions:{getAllRequests:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/requests.json");case 2:return n=t.sent,t.next=5,n.json();case 5:for(c in r=t.sent,o=JSON.parse(localStorage.getItem("user")).uid,i=[],r)r[c].id===o&&i.push(r[c]);e.commit("setRequests",i);case 10:case"end":return t.stop()}}),t)})))()},addRequest:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(B["a"])({},t.request),e.commit("addRequest",r),n.next=4,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/requests.json",{method:"POST",body:JSON.stringify(r)});case 4:Zn.push("/requests");case 5:case"end":return n.stop()}}),n)})))()},getArchitectRequests:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/requests.json");case 2:return n=t.sent,t.next=5,n.json();case 5:for(c in r=t.sent,o=JSON.parse(localStorage.getItem("user")).uid,i=[],r)r[c].toId===o&&(r[c].reqId=c,i.push(r[c]));e.commit("setRequests",i);case 10:case"end":return t.stop()}}),t)})))()},updateStatus:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={status:t.status},n.next=3,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/requests/".concat(t.id,".json"),{method:"PATCH",body:JSON.stringify(r)});case 3:e.commit("updateRequest",t);case 4:case"end":return n.stop()}}),n)})))()}},mutations:{addRequest:function(e,t){var n=Object(B["a"])({},t.request);e.requests.push(n)},setRequests:function(e,t){e.requests=t},updateRequest:function(e,t){e.requests.forEach((function(e){e.reqId===t.id&&(e.status=t.status)}))}}}),er={state:function(){return{architects:[]}},getters:{getArchitects:function(e){return e.architects}},actions:{getAllArchitects:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://home-floor-plan-hackathon-default-rtdb.asia-southeast1.firebasedatabase.app/users.json");case 2:return n=t.sent,t.next=5,n.json();case 5:for(i in r=t.sent,o=[],r)"architect"===r[i].role&&o.push(r[i]);e.commit("setArchitects",o);case 9:case"end":return t.stop()}}),t)})))()}},mutations:{setArchitects:function(e,t){e.architects=t}}},tr=Object(F["a"])({modules:{auth:Qn,req:Xn,architect:er}}),nr=tr,rr={key:0,open:""},or={key:0},ir=Object(r["j"])("Yes"),cr=Object(r["j"])("Cancel");function sr(e,t,n,o,i,c){var s=Object(r["E"])("base-button");return Object(r["w"])(),Object(r["f"])(r["b"],{to:"body"},[n.show?(Object(r["w"])(),Object(r["h"])("div",{key:0,onClick:t[0]||(t[0]=function(){return c.tryClose&&c.tryClose.apply(c,arguments)}),class:"backdrop"})):Object(r["g"])("",!0),Object(r["k"])(r["c"],{name:"dialog"},{default:Object(r["N"])((function(){return[n.show?(Object(r["w"])(),Object(r["h"])("dialog",rr,[Object(r["i"])("header",null,[Object(r["D"])(e.$slots,"header",{},(function(){return[Object(r["i"])("h2",null,Object(r["H"])(n.title),1)]}),!0)]),Object(r["i"])("section",null,[Object(r["D"])(e.$slots,"default",{},void 0,!0)]),n.fixed?Object(r["g"])("",!0):(Object(r["w"])(),Object(r["h"])("menu",or,[Object(r["D"])(e.$slots,"actions",{},(function(){return[Object(r["k"])(s,{onClick:c.tryYes},{default:Object(r["N"])((function(){return[ir]})),_:1},8,["onClick"]),Object(r["k"])(s,{onClick:c.tryClose},{default:Object(r["N"])((function(){return[cr]})),_:1},8,["onClick"])]}),!0)]))])):Object(r["g"])("",!0)]})),_:3})])}var ar={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryYes:function(){this.$emit("yes")},tryClose:function(){this.fixed||this.$emit("close")}}};n("e5f5");const ur=_()(ar,[["render",sr],["__scopeId","data-v-0d3caff8"]]);var lr=ur,dr={class:"card"};function br(e,t){return Object(r["w"])(),Object(r["h"])("div",dr,[Object(r["D"])(e.$slots,"default",{},void 0,!0)])}n("fc36");const fr={},jr=_()(fr,[["render",br],["__scopeId","data-v-18915a19"]]);var Or=jr,pr=function(e){return Object(r["z"])("data-v-2e09928c"),e=e(),Object(r["x"])(),e},mr={class:"spinner"},hr=pr((function(){return Object(r["i"])("div",{class:"lds-roller"},[Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div"),Object(r["i"])("div")],-1)})),gr=[hr];function vr(e,t){return Object(r["w"])(),Object(r["h"])("div",mr,gr)}n("4e81");const kr={},wr=_()(kr,[["render",vr],["__scopeId","data-v-2e09928c"]]);var yr=wr,qr=n("2ab6"),Rr=(n("b15b"),{apiKey:"AIzaSyBepUnB8ttxVngJxjFBC_y8LnCZEApbRPI",authDomain:"home-floor-plan-hackathon.firebaseapp.com",projectId:"home-floor-plan-hackathon",storageBucket:"home-floor-plan-hackathon.appspot.com",messagingSenderId:"695612281856",appId:"1:695612281856:web:3ae4ebc8124f1b0bb474e5"});Object(E["a"])(Rr);var xr=Object(r["e"])(A);xr.use(qr["a"]),xr.use(nr),xr.use(Zn),xr.component("BaseButton",N),xr.component("BaseDialog",lr),xr.component("BaseCard",Or),xr.component("BaseSpinner",yr),xr.mount("#app")},"5f1f":function(e,t,n){"use strict";n("e8dc")},"66da":function(e,t,n){e.exports=n.p+"img/logo_livspace.e628e9e1.png"},"71c1":function(e,t,n){},"7d3b":function(e,t,n){},"888e":function(e,t,n){"use strict";n("32e7")},"9bcd":function(e,t,n){},"9d57":function(e,t,n){},b293:function(e,t,n){"use strict";n("501f")},b3ba:function(e,t,n){"use strict";n("bfc1")},bb0b:function(e,t,n){"use strict";n("9d57")},bfc1:function(e,t,n){},cc35:function(e,t,n){"use strict";n("7d3b")},e345:function(e,t,n){e.exports=n.p+"img/home2.adaaa530.jpeg"},e5ec:function(e,t,n){"use strict";n("1289")},e5f5:function(e,t,n){"use strict";n("71c1")},e8dc:function(e,t,n){},ef42:function(e,t,n){"use strict";n("1967")},f618:function(e,t,n){"use strict";n("407b")},fc36:function(e,t,n){"use strict";n("3e21")}});
//# sourceMappingURL=app.b0a85ac9.js.map